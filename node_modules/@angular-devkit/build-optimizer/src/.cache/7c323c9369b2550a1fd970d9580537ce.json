{"remainingRequest":"C:\\Users\\bonala\\Desktop\\WeatherAppApi\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!C:\\Users\\bonala\\Desktop\\WeatherAppApi\\node_modules\\ngx-auth-firebaseui\\esm5\\ngx-auth-firebaseui.es5.js","dependencies":[{"path":"C:\\Users\\bonala\\Desktop\\WeatherAppApi\\node_modules\\ngx-auth-firebaseui\\esm5\\ngx-auth-firebaseui.es5.js","mtime":1552283076857},{"path":"C:\\Users\\bonala\\Desktop\\WeatherAppApi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552283083157},{"path":"C:\\Users\\bonala\\Desktop\\WeatherAppApi\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1552283077916}],"contextDependencies":[],"result":["import { isPlatformBrowser, CommonModule } from '@angular/common';\nimport { Injectable, Inject, EventEmitter, Component, PLATFORM_ID, Input, Output, defineInjectable, inject, InjectionToken, NgModule } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { MatSnackBar, MatDialogRef, MAT_DIALOG_DATA, MatDialog, MatIconRegistry, MatTabsModule, MatCardModule, MatInputModule, MatButtonModule, MatIconModule, MatSnackBarModule, MatDividerModule, MatChipsModule, MatTooltipModule, MatDialogModule, MatCheckboxModule, MatProgressSpinnerModule, MatProgressBarModule } from '@angular/material';\nimport { AngularFireAuth, AngularFireAuthModule } from '@angular/fire/auth';\nimport { AngularFirestore, AngularFirestoreModule } from '@angular/fire/firestore';\nimport { firebase } from '@firebase/app';\nimport '@firebase/auth';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { FirebaseOptionsToken, FirebaseNameOrConfigToken } from '@angular/fire';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatPasswordStrengthModule } from '@angular-material-extensions/password-strength';\nimport { Router } from '@angular/router';\nimport { map } from 'rxjs/operators';\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nvar collections = {\n    users: 'users',\n};\nvar FirestoreSyncService = /** @class */ /*@__PURE__*/ (function () {\n    function FirestoreSyncService(afs) {\n        this.afs = afs;\n        // this.afs.firestore.settings({timestampsInSnapshots: true});\n    }\n    // get timestamp() {\n    //     return firebase.firestore.FieldValue.serverTimestamp();\n    // }\n    // get timestamp() {\n    //     return firebase.firestore.FieldValue.serverTimestamp();\n    // }\n    /**\n     * @param {?} uid\n     * @return {?}\n     */\n    FirestoreSyncService.prototype.getUserDocRefByUID =\n        // get timestamp() {\n        //     return firebase.firestore.FieldValue.serverTimestamp();\n        // }\n        /**\n         * @param {?} uid\n         * @return {?}\n         */\n        function (uid) {\n            return this.afs.doc(collections.users + \"/\" + uid);\n        };\n    /**\n     * @param {?=} queryFn\n     * @return {?}\n     */\n    FirestoreSyncService.prototype.getUsersCollectionRef = /**\n     * @param {?=} queryFn\n     * @return {?}\n     */\n        function (queryFn) {\n            return this.afs.collection(collections.users + \"/\", queryFn);\n        };\n    /**\n     * @param {?} uid\n     * @return {?}\n     */\n    FirestoreSyncService.prototype.deleteUserData = /**\n     * @param {?} uid\n     * @return {?}\n     */\n        function (uid) {\n            /** @type {?} */\n            var userRef = this.getUserDocRefByUID(uid);\n            return userRef.delete();\n        };\n    /**\n     * @param {?} user\n     * @return {?}\n     */\n    FirestoreSyncService.prototype.updateUserData = /**\n     * @param {?} user\n     * @return {?}\n     */\n        function (user) {\n            // Sets user$ data to firestore on login\n            /** @type {?} */\n            var userRef = this.getUserDocRefByUID(user.uid);\n            /** @type {?} */\n            var data = {\n                uid: user.uid,\n                email: user.email,\n                displayName: user.displayName,\n                photoURL: user.photoURL,\n                phoneNumber: user.phoneNumber,\n                providerId: user.providerId\n            };\n            return userRef.set(data, { merge: true });\n        };\n    return FirestoreSyncService;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @enum {string} */\nvar Accounts = {\n    NONE: 'account',\n    CHECK: 'account-check',\n    EDIT: 'account-edit',\n    OFF: 'account-off',\n    REMOVE: 'account-remove',\n};\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try {\n            step(generator.next(value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function rejected(value) { try {\n            step(generator[\"throw\"](value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function () { if (t[0] & 1)\n            throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f)\n            throw new TypeError(\"Generator is already executing.\");\n        while (_)\n            try {\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)\n                    return t;\n                if (y = 0, t)\n                    op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0:\n                    case 1:\n                        t = op;\n                        break;\n                    case 4:\n                        _.label++;\n                        return { value: op[1], done: false };\n                    case 5:\n                        _.label++;\n                        y = op[1];\n                        op = [0];\n                        continue;\n                    case 7:\n                        op = _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                    default:\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                            _ = 0;\n                            continue;\n                        }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                            _.label = op[1];\n                            break;\n                        }\n                        if (op[0] === 6 && _.label < t[1]) {\n                            _.label = t[1];\n                            t = op;\n                            break;\n                        }\n                        if (t && _.label < t[2]) {\n                            _.label = t[2];\n                            _.ops.push(op);\n                            break;\n                        }\n                        if (t[2])\n                            _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                }\n                op = body.call(thisArg, _);\n            }\n            catch (e) {\n                op = [6, e];\n                y = 0;\n            }\n            finally {\n                f = t = 0;\n            }\n        if (op[0] & 5)\n            throw op[1];\n        return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/** @type {?} */\nvar facebookAuthProvider = new firebase.auth.FacebookAuthProvider();\n/** @type {?} */\nvar googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n/** @type {?} */\nvar twitterAuthProvider = new firebase.auth.TwitterAuthProvider();\n/** @type {?} */\nvar githubAuthProvider = new firebase.auth.GithubAuthProvider();\n/** @enum {string} */\nvar AuthProvider = {\n    ALL: 'all',\n    ANONYMOUS: 'anonymous',\n    EmailAndPassword: 'firebase',\n    Google: 'google',\n    Facebook: 'facebook',\n    Twitter: 'twitter',\n    Github: 'github',\n    PhoneNumber: 'phoneNumber',\n};\nvar AuthProcessService = /** @class */ /*@__PURE__*/ (function () {\n    function AuthProcessService(config, afa, _snackBar, _fireStoreService) {\n        this.config = config;\n        this.afa = afa;\n        this._snackBar = _snackBar;\n        this._fireStoreService = _fireStoreService;\n        this.onSuccessEmitter = new EventEmitter();\n        this.onErrorEmitter = new EventEmitter();\n    }\n    /**\n     * Reset the password of the user via email\n     *\n     * @param email - the email to reset\n     * @returns\n     */\n    /**\n     * Reset the password of the user via email\n     *\n     * @param {?} email - the email to reset\n     * @return {?}\n     */\n    AuthProcessService.prototype.resetPassword = /**\n     * Reset the password of the user via email\n     *\n     * @param {?} email - the email to reset\n     * @return {?}\n     */\n        function (email) {\n            var _this = this;\n            return this.afa.auth.sendPasswordResetEmail(email)\n                .then(( /**\n         * @return {?}\n         */function () { return console.log('email sent'); }))\n                .catch(( /**\n         * @param {?} error\n         * @return {?}\n         */function (error) { return _this.onErrorEmitter.next(error); }));\n        };\n    /**\n     * General sign in mechanism to authenticate the users with a firebase project\n     * using a traditional way, via username and password or by using an authentication provider\n     * like google, facebook, twitter and github\n     *\n     * @param provider - the provider to authenticate with (google, facebook, twitter, github)\n     * @param credentials\n     * @returns\n     */\n    /**\n     * General sign in mechanism to authenticate the users with a firebase project\n     * using a traditional way, via username and password or by using an authentication provider\n     * like google, facebook, twitter and github\n     *\n     * @param {?} provider - the provider to authenticate with (google, facebook, twitter, github)\n     * @param {?=} credentials\n     * @return {?}\n     */\n    AuthProcessService.prototype.signInWith = /**\n     * General sign in mechanism to authenticate the users with a firebase project\n     * using a traditional way, via username and password or by using an authentication provider\n     * like google, facebook, twitter and github\n     *\n     * @param {?} provider - the provider to authenticate with (google, facebook, twitter, github)\n     * @param {?=} credentials\n     * @return {?}\n     */\n        function (provider, credentials) {\n            return __awaiter(this, void 0, void 0, function () {\n                var signInResult, _a, err_1;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            _b.trys.push([0, 17, 18, 19]);\n                            this.isLoading = true;\n                            signInResult = void 0;\n                            _a = provider;\n                            switch (_a) {\n                                case AuthProvider.ANONYMOUS: return [3 /*break*/, 1];\n                                case AuthProvider.EmailAndPassword: return [3 /*break*/, 3];\n                                case AuthProvider.Google: return [3 /*break*/, 5];\n                                case AuthProvider.Facebook: return [3 /*break*/, 7];\n                                case AuthProvider.Twitter: return [3 /*break*/, 9];\n                                case AuthProvider.Github: return [3 /*break*/, 11];\n                                case AuthProvider.PhoneNumber: return [3 /*break*/, 13];\n                            }\n                            return [3 /*break*/, 14];\n                        case 1: return [4 /*yield*/, this.afa.auth.signInAnonymously()];\n                        case 2:\n                            signInResult = ( /** @type {?} */(_b.sent()));\n                            return [3 /*break*/, 15];\n                        case 3: return [4 /*yield*/, this.afa.auth.signInWithEmailAndPassword(credentials.email, credentials.password)];\n                        case 4:\n                            signInResult = ( /** @type {?} */(_b.sent()));\n                            return [3 /*break*/, 15];\n                        case 5: return [4 /*yield*/, this.afa.auth.signInWithPopup(googleAuthProvider)];\n                        case 6:\n                            signInResult = ( /** @type {?} */(_b.sent()));\n                            return [3 /*break*/, 15];\n                        case 7: return [4 /*yield*/, this.afa.auth.signInWithPopup(facebookAuthProvider)];\n                        case 8:\n                            signInResult = ( /** @type {?} */(_b.sent()));\n                            return [3 /*break*/, 15];\n                        case 9: return [4 /*yield*/, this.afa.auth.signInWithPopup(twitterAuthProvider)];\n                        case 10:\n                            signInResult = ( /** @type {?} */(_b.sent()));\n                            return [3 /*break*/, 15];\n                        case 11: return [4 /*yield*/, this.afa.auth.signInWithPopup(githubAuthProvider)];\n                        case 12:\n                            signInResult = ( /** @type {?} */(_b.sent()));\n                            return [3 /*break*/, 15];\n                        case 13:\n                            // coming soon - see feature/sms branch\n                            return [3 /*break*/, 15];\n                        case 14: throw new Error(AuthProvider[provider] + \" is not available as auth provider\");\n                        case 15: return [4 /*yield*/, this.handleSuccess(signInResult)];\n                        case 16:\n                            _b.sent();\n                            return [3 /*break*/, 19];\n                        case 17:\n                            err_1 = _b.sent();\n                            this.handleError(err_1);\n                            console.error(err_1);\n                            // this._snackBar.open(err.message, 'OK', {duration: 5000});\n                            this.onErrorEmitter.next(err_1);\n                            return [3 /*break*/, 19];\n                        case 18:\n                            this.isLoading = false;\n                            return [7 /*endfinally*/];\n                        case 19: return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    /**\n     * Sign up new users via email and password.\n     * After that the user should verify and confirm an email sent via the firebase\n     *\n     * @param name - the name if the new user\n     * @param credentials\n     * @returns\n     */\n    /**\n     * Sign up new users via email and password.\n     * After that the user should verify and confirm an email sent via the firebase\n     *\n     * @param {?} name - the name if the new user\n     * @param {?} credentials\n     * @return {?}\n     */\n    AuthProcessService.prototype.signUp = /**\n     * Sign up new users via email and password.\n     * After that the user should verify and confirm an email sent via the firebase\n     *\n     * @param {?} name - the name if the new user\n     * @param {?} credentials\n     * @return {?}\n     */\n        function (name, credentials) {\n            return __awaiter(this, void 0, void 0, function () {\n                var userCredential, user, err_2;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 7, 8, 9]);\n                            this.isLoading = true;\n                            return [4 /*yield*/, this.afa.auth.createUserWithEmailAndPassword(credentials.email, credentials.password)];\n                        case 1:\n                            userCredential = _a.sent();\n                            user = userCredential.user;\n                            if (!this.config.enableFirestoreSync)\n                                return [3 /*break*/, 4];\n                            return [4 /*yield*/, this._fireStoreService\n                                    .getUserDocRefByUID(user.uid)\n                                    .set(( /** @type {?} */({\n                                    uid: user.uid,\n                                    displayName: name,\n                                    email: user.email,\n                                    photoURL: user.photoURL\n                                })))];\n                        case 2:\n                            _a.sent();\n                            return [4 /*yield*/, this.updateProfile(name, user.photoURL)];\n                        case 3:\n                            _a.sent();\n                            _a.label = 4;\n                        case 4: return [4 /*yield*/, user.sendEmailVerification()];\n                        case 5:\n                            _a.sent();\n                            this.emailConfirmationSent = true;\n                            this.emailToConfirm = credentials.email;\n                            return [4 /*yield*/, this.handleSuccess(userCredential)];\n                        case 6:\n                            _a.sent();\n                            return [3 /*break*/, 9];\n                        case 7:\n                            err_2 = _a.sent();\n                            this.handleError(err_2);\n                            return [3 /*break*/, 9];\n                        case 8:\n                            this.isLoading = false;\n                            return [7 /*endfinally*/];\n                        case 9: return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    /**\n     * Update the profile (name + photo url) of the authenticated user in the\n     * firebase authentication feature (not in firestore)\n     *\n     * @param name - the new name of the authenticated user\n     * @param photoURL - the new photo url of the authenticated user\n     * @returns\n     */\n    /**\n     * Update the profile (name + photo url) of the authenticated user in the\n     * firebase authentication feature (not in firestore)\n     *\n     * @param {?} name - the new name of the authenticated user\n     * @param {?} photoURL - the new photo url of the authenticated user\n     * @return {?}\n     */\n    AuthProcessService.prototype.updateProfile = /**\n     * Update the profile (name + photo url) of the authenticated user in the\n     * firebase authentication feature (not in firestore)\n     *\n     * @param {?} name - the new name of the authenticated user\n     * @param {?} photoURL - the new photo url of the authenticated user\n     * @return {?}\n     */\n        function (name, photoURL) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, this.afa.auth.currentUser.updateProfile({ displayName: name, photoURL: photoURL })];\n                        case 1: return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n    /**\n     * @return {?}\n     */\n    AuthProcessService.prototype.deleteAccount = /**\n     * @return {?}\n     */\n        function () {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, this.afa.auth.currentUser.delete()];\n                        case 1: return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n    /**\n     * @param {?} user\n     * @return {?}\n     */\n    AuthProcessService.prototype.parseUserInfo = /**\n     * @param {?} user\n     * @return {?}\n     */\n        function (user) {\n            return {\n                uid: user.uid,\n                displayName: user.displayName,\n                email: user.email,\n                phoneNumber: user.phoneNumber,\n                photoURL: user.photoURL,\n                providerId: user.providerData.length > 0 ? user.providerData[0].providerId : null\n            };\n        };\n    /**\n     * @return {?}\n     */\n    AuthProcessService.prototype.getUserPhotoUrl = /**\n     * @return {?}\n     */\n        function () {\n            /** @type {?} */\n            var user = this.afa.auth.currentUser;\n            if (!user) {\n                return;\n            }\n            else if (user.photoURL) {\n                return user.photoURL;\n            }\n            else if (user.emailVerified) {\n                return this.getPhotoPath(Accounts.CHECK);\n            }\n            else if (user.isAnonymous) {\n                return this.getPhotoPath(Accounts.OFF);\n            }\n            else {\n                return this.getPhotoPath(Accounts.NONE);\n            }\n        };\n    /**\n     * @param {?} image\n     * @return {?}\n     */\n    AuthProcessService.prototype.getPhotoPath = /**\n     * @param {?} image\n     * @return {?}\n     */\n        function (image) {\n            return \"assets/user/\" + image + \".svg\";\n        };\n    /**\n     * @return {?}\n     */\n    AuthProcessService.prototype.signInWithPhoneNumber = /**\n     * @return {?}\n     */\n        function () {\n            // todo: 3.1.18\n        };\n    /**\n     * @param {?} userCredential\n     * @return {?}\n     */\n    AuthProcessService.prototype.handleSuccess = /**\n     * @param {?} userCredential\n     * @return {?}\n     */\n        function (userCredential) {\n            return __awaiter(this, void 0, void 0, function () {\n                var e_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            this.onSuccessEmitter.next(userCredential.user);\n                            if (!this.config.enableFirestoreSync)\n                                return [3 /*break*/, 4];\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, this._fireStoreService.updateUserData(this.parseUserInfo(userCredential.user))];\n                        case 2:\n                            _a.sent();\n                            return [3 /*break*/, 4];\n                        case 3:\n                            e_1 = _a.sent();\n                            console.error(\"Error occurred while updating user data with firestore: \" + e_1);\n                            return [3 /*break*/, 4];\n                        case 4:\n                            if (this.config.toastMessageOnAuthSuccess) {\n                                this._snackBar.open(this.messageOnAuthSuccess ? this.messageOnAuthSuccess :\n                                    \"Hello \" + (userCredential.user.displayName ? userCredential.user.displayName : '') + \"!\", 'OK', { duration: 5000 });\n                            }\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    AuthProcessService.prototype.handleError = /**\n     * @param {?} error\n     * @return {?}\n     */\n        function (error) {\n            this.onErrorEmitter.next(error);\n            if (this.config.toastMessageOnAuthError) {\n                this._snackBar.open(this.messageOnAuthError ? this.messageOnAuthError :\n                    error.message, 'OK', { duration: 5000 });\n            }\n            console.error(error);\n        };\n    return AuthProcessService;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nvar LegalityDialogComponent = /** @class */ /*@__PURE__*/ (function () {\n    function LegalityDialogComponent(dialogRef, data) {\n        this.dialogRef = dialogRef;\n        this.data = data;\n        this._disableConfirmActionButton = false;\n    }\n    Object.defineProperty(LegalityDialogComponent.prototype, \"disableConfirmActionButton\", {\n        get: /**\n         * @return {?}\n         */ function () {\n            if (this.data.tosUrl && this.data.privacyPolicyUrl) {\n                this._disableConfirmActionButton = !(this.checkTOS && this.checkPrivacyPolicy);\n            }\n            else if (this.data.tosUrl && !this.data.privacyPolicyUrl) {\n                this._disableConfirmActionButton = !this.checkTOS;\n            }\n            else if (!this.data.tosUrl && this.data.privacyPolicyUrl) {\n                this._disableConfirmActionButton = !this.checkPrivacyPolicy;\n            }\n            return this._disableConfirmActionButton;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @return {?}\n     */\n    LegalityDialogComponent.prototype.closeDialog = /**\n     * @return {?}\n     */\n        function () {\n            /** @type {?} */\n            var result = {\n                checked: !this.disableConfirmActionButton,\n                authProvider: this.data.authProvider\n            };\n            this.dialogRef.close(result);\n        };\n    return LegalityDialogComponent;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nvar defaultAuthFirebaseUIConfig = {\n    // authMethod: 'redirect',\n    // authProviders: [new GoogleAuthProvider(), new FacebookAuthProvider(), new TwitterAuthProvider(), new GithubAuthProvider()],\n    authGuardFallbackURL: '/',\n    enableFirestoreSync: true,\n    toastMessageOnAuthSuccess: true,\n    toastMessageOnAuthError: true\n};\nvar __awaiter$1 = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try {\n            step(generator.next(value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function rejected(value) { try {\n            step(generator[\"throw\"](value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator$1 = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function () { if (t[0] & 1)\n            throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f)\n            throw new TypeError(\"Generator is already executing.\");\n        while (_)\n            try {\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)\n                    return t;\n                if (y = 0, t)\n                    op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0:\n                    case 1:\n                        t = op;\n                        break;\n                    case 4:\n                        _.label++;\n                        return { value: op[1], done: false };\n                    case 5:\n                        _.label++;\n                        y = op[1];\n                        op = [0];\n                        continue;\n                    case 7:\n                        op = _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                    default:\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                            _ = 0;\n                            continue;\n                        }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                            _.label = op[1];\n                            break;\n                        }\n                        if (op[0] === 6 && _.label < t[1]) {\n                            _.label = t[1];\n                            t = op;\n                            break;\n                        }\n                        if (t && _.label < t[2]) {\n                            _.label = t[2];\n                            _.ops.push(op);\n                            break;\n                        }\n                        if (t[2])\n                            _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                }\n                op = body.call(thisArg, _);\n            }\n            catch (e) {\n                op = [6, e];\n                y = 0;\n            }\n            finally {\n                f = t = 0;\n            }\n        if (op[0] & 5)\n            throw op[1];\n        return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/** @type {?} */\nvar EMAIL_REGEX = new RegExp(['^(([^<>()[\\\\]\\\\\\.,;:\\\\s@\\\"]+(\\\\.[^<>()\\\\[\\\\]\\\\\\.,;:\\\\s@\\\"]+)*)',\n    '|(\".+\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.',\n    '[0-9]{1,3}\\])|(([a-zA-Z\\\\-0-9]+\\\\.)+',\n    '[a-zA-Z]{2,}))$'].join(''));\n/** @type {?} */\nvar PHONE_NUMBER_REGEX = new RegExp(/^\\+(?:[0-9] ?){6,14}[0-9]$/);\nvar AuthComponent = /** @class */ /*@__PURE__*/ (function () {\n    function AuthComponent(platformId, config, auth, authProcess, dialog) {\n        this.platformId = platformId;\n        this.config = config;\n        this.auth = auth;\n        this.authProcess = authProcess;\n        this.dialog = dialog;\n        this.providers = AuthProvider.ALL; //  google, facebook, twitter, github as array or all as one single string\n        this.registrationEnabled = true;\n        this.resetPasswordEnabled = true;\n        this.guestEnabled = true;\n        this.authProvider = AuthProvider;\n        this.authenticationError = false;\n        this.passReset = false;\n        this.authProviders = AuthProvider;\n        this.onSuccess = authProcess.onSuccessEmitter;\n        this.onError = authProcess.onErrorEmitter;\n    }\n    /**\n     * @return {?}\n     */\n    AuthComponent.prototype.ngOnInit = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            this.config = Object.assign(defaultAuthFirebaseUIConfig, this.config);\n            if (isPlatformBrowser(this.platformId)) {\n                this.onErrorSubscription = this.onError.subscribe(( /**\n                 * @return {?}\n                 */function () { return _this.authenticationError = true; }));\n            }\n            this.updateAuthSnackbarMessages();\n            // auth form's initialization\n            this._initSignInFormGroupBuilder();\n            this._initSignUpFormGroupBuilder();\n            this._initResetPasswordFormGroupBuilder();\n        };\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    AuthComponent.prototype.ngOnChanges = /**\n     * @param {?} changes\n     * @return {?}\n     */\n        function (changes) {\n            if (changes.messageOnAuthSuccess || changes.messageOnAuthError) {\n                this.updateAuthSnackbarMessages();\n            }\n        };\n    /**\n     * @return {?}\n     */\n    AuthComponent.prototype.ngOnDestroy = /**\n     * @return {?}\n     */\n        function () {\n            if (this.onErrorSubscription) {\n                this.onErrorSubscription.unsubscribe();\n            }\n        };\n    Object.defineProperty(AuthComponent.prototype, \"color\", {\n        get: /**\n         * @return {?}\n         */ function () {\n            return this.authenticationError ? 'warn' : 'primary';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @return {?}\n     */\n    AuthComponent.prototype.updateAuthSnackbarMessages = /**\n     * @return {?}\n     */\n        function () {\n            this.authProcess.messageOnAuthSuccess = this.messageOnAuthSuccess;\n            this.authProcess.messageOnAuthError = this.messageOnAuthError;\n        };\n    /**\n     * @return {?}\n     */\n    AuthComponent.prototype.createForgotPasswordTab = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            this.passwordResetWished = true;\n            setTimeout(( /**\n             * @return {?}\n             */function () { return _this.tabIndex = 0; }), 100);\n        };\n    /**\n     * @param {?=} authProvider\n     * @return {?}\n     */\n    AuthComponent.prototype.processLegalSignUP = /**\n     * @param {?=} authProvider\n     * @return {?}\n     */\n        function (authProvider) {\n            var _this = this;\n            if (this.tosUrl || this.privacyPolicyUrl) {\n                /** @type {?} */\n                var params = {\n                    tosUrl: this.tosUrl,\n                    privacyPolicyUrl: this.privacyPolicyUrl,\n                    authProvider: authProvider\n                };\n                this.dialogRef = this.dialog.open(LegalityDialogComponent, { data: params });\n                this.dialogRef.afterClosed().subscribe(( /**\n                 * @param {?} result\n                 * @return {?}\n                 */function (result) {\n                    // console.log('this.dialogRef.afterClosed(): ', result);\n                    if (result && result.checked) {\n                        _this._afterSignUpMiddleware(result.authProvider).then(( /**\n                         * @return {?}\n                         */function () { return _this.signUpFormGroup.reset(); }));\n                    }\n                    _this.dialogRef = null;\n                }));\n            }\n            else {\n                this._afterSignUpMiddleware(authProvider).then(( /**\n                 * @return {?}\n                 */function () { return _this.signUpFormGroup.reset(); }));\n            }\n        };\n    /**\n     * @return {?}\n     */\n    AuthComponent.prototype.signUp = /**\n     * @return {?}\n     */\n        function () {\n            return __awaiter$1(this, void 0, void 0, function () {\n                return __generator$1(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, this.authProcess.signUp(this.signUpFormGroup.value.name, {\n                                email: this.signUpFormGroup.value.email,\n                                password: this.signUpFormGroup.value.password\n                            })];\n                        case 1: return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n    /**\n     * @return {?}\n     */\n    AuthComponent.prototype.signUpAnonymously = /**\n     * @return {?}\n     */\n        function () {\n            return __awaiter$1(this, void 0, void 0, function () {\n                return __generator$1(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, this.authProcess.signInWith(this.authProvider.ANONYMOUS)];\n                        case 1: return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n    /**\n     * @return {?}\n     */\n    AuthComponent.prototype.resetPassword = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            this.authProcess.resetPassword(this.resetPasswordEmailFormControl.value)\n                .then(( /**\n         * @return {?}\n         */function () { return _this.passReset = true; }));\n        };\n    /**\n     * @private\n     * @return {?}\n     */\n    AuthComponent.prototype._initSignInFormGroupBuilder = /**\n     * @private\n     * @return {?}\n     */\n        function () {\n            this.signInFormGroup = new FormGroup({});\n            this.signInFormGroup.registerControl('email', this.signInEmailFormControl = new FormControl('', [\n                Validators.required,\n                Validators.pattern(EMAIL_REGEX)\n            ]));\n            this.signInFormGroup.registerControl('password', this.sigInPasswordFormControl = new FormControl('', [\n                Validators.required,\n                Validators.minLength(6),\n                Validators.maxLength(25),\n            ]));\n        };\n    /**\n     * @private\n     * @return {?}\n     */\n    AuthComponent.prototype._initSignUpFormGroupBuilder = /**\n     * @private\n     * @return {?}\n     */\n        function () {\n            this.signUpFormGroup = new FormGroup({\n                name: this.sigUpNameFormControl = new FormControl('', [\n                    Validators.required,\n                    Validators.minLength(2),\n                    Validators.maxLength(30),\n                ]),\n                email: this.sigUpEmailFormControl = new FormControl('', [\n                    Validators.required,\n                    Validators.pattern(EMAIL_REGEX)\n                ]),\n                password: this.sigUpPasswordFormControl = new FormControl('', [\n                    Validators.required,\n                    Validators.minLength(6),\n                    Validators.maxLength(25),\n                ])\n            });\n        };\n    /**\n     * @private\n     * @return {?}\n     */\n    AuthComponent.prototype._initResetPasswordFormGroupBuilder = /**\n     * @private\n     * @return {?}\n     */\n        function () {\n            this.resetPasswordFormGroup = new FormGroup({\n                email: this.resetPasswordEmailFormControl = new FormControl('', [\n                    Validators.required,\n                    Validators.pattern(EMAIL_REGEX)\n                ])\n            });\n        };\n    /**\n     * @private\n     * @param {?=} authProvider\n     * @return {?}\n     */\n    AuthComponent.prototype._afterSignUpMiddleware = /**\n     * @private\n     * @param {?=} authProvider\n     * @return {?}\n     */\n        function (authProvider) {\n            if (authProvider === this.authProvider.ANONYMOUS) {\n                return this.signUpAnonymously();\n            }\n            return this.signUp();\n        };\n    return AuthComponent;\n}());\nvar __awaiter$2 = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try {\n            step(generator.next(value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function rejected(value) { try {\n            step(generator[\"throw\"](value));\n        }\n        catch (e) {\n            reject(e);\n        } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator$2 = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function () { if (t[0] & 1)\n            throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f)\n            throw new TypeError(\"Generator is already executing.\");\n        while (_)\n            try {\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)\n                    return t;\n                if (y = 0, t)\n                    op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0:\n                    case 1:\n                        t = op;\n                        break;\n                    case 4:\n                        _.label++;\n                        return { value: op[1], done: false };\n                    case 5:\n                        _.label++;\n                        y = op[1];\n                        op = [0];\n                        continue;\n                    case 7:\n                        op = _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                    default:\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                            _ = 0;\n                            continue;\n                        }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                            _.label = op[1];\n                            break;\n                        }\n                        if (op[0] === 6 && _.label < t[1]) {\n                            _.label = t[1];\n                            t = op;\n                            break;\n                        }\n                        if (t && _.label < t[2]) {\n                            _.label = t[2];\n                            _.ops.push(op);\n                            break;\n                        }\n                        if (t[2])\n                            _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                }\n                op = body.call(thisArg, _);\n            }\n            catch (e) {\n                op = [6, e];\n                y = 0;\n            }\n            finally {\n                f = t = 0;\n            }\n        if (op[0] & 5)\n            throw op[1];\n        return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar UserComponent = /** @class */ /*@__PURE__*/ (function () {\n    function UserComponent(config, auth, authProcess, _fireStoreService, snackBar) {\n        this.config = config;\n        this.auth = auth;\n        this.authProcess = authProcess;\n        this._fireStoreService = _fireStoreService;\n        this.snackBar = snackBar;\n        this.canLogout = true;\n        this.canDeleteAccount = true;\n        this.onSignOut = new EventEmitter();\n        this.onAccountDeleted = new EventEmitter();\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    UserComponent.prototype.initUpdateFormGroup = /**\n     * @protected\n     * @return {?}\n     */\n        function () {\n            /** @type {?} */\n            var currentUser = this.auth.auth.currentUser;\n            this.updateFormGroup = new FormGroup({\n                name: this.updateNameFormControl = new FormControl({ value: currentUser.displayName, disabled: true }, [\n                    Validators.required,\n                    Validators.minLength(2),\n                    Validators.maxLength(25),\n                ]),\n                email: this.updateEmailFormControl = new FormControl({ value: currentUser.email, disabled: true }, [\n                    Validators.required,\n                    Validators.pattern(EMAIL_REGEX)\n                ]),\n                phoneNumber: this.updatePhoneNumberFormControl = new FormControl('', [Validators.pattern(PHONE_NUMBER_REGEX)])\n            });\n            this.updateFormGroup.enable();\n        };\n    /**\n     * @return {?}\n     */\n    UserComponent.prototype.changeEditMode = /**\n     * @return {?}\n     */\n        function () {\n            this.editMode = !this.editMode;\n            this.editMode ? this.initUpdateFormGroup() : this.reset();\n        };\n    /**\n     * @return {?}\n     */\n    UserComponent.prototype.reset = /**\n     * @return {?}\n     */\n        function () {\n            this.updateFormGroup.reset();\n            this.updateFormGroup.disable();\n            this.updateFormGroup = null;\n        };\n    // todo: 31.3.18\n    // todo: 31.3.18\n    /**\n     * @return {?}\n     */\n    UserComponent.prototype.save =\n        // todo: 31.3.18\n        /**\n         * @return {?}\n         */\n        function () {\n            return __awaiter$2(this, void 0, void 0, function () {\n                var user, snackBarMsg, error_1;\n                return __generator$2(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!this.updateFormGroup.dirty)\n                                return [3 /*break*/, 12];\n                            user = this.auth.auth.currentUser;\n                            // user.updateProfile()\n                            // user.updateEmail()\n                            // console.log('form = ', this.updateFormGroup);\n                            snackBarMsg = [];\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 10, , 11]);\n                            if (!this.updateNameFormControl.dirty)\n                                return [3 /*break*/, 3];\n                            return [4 /*yield*/, user.updateProfile({ displayName: this.updateNameFormControl.value, photoURL: null })];\n                        case 2:\n                            _a.sent();\n                            snackBarMsg.push(\"your name has been update to \" + user.displayName);\n                            _a.label = 3;\n                        case 3:\n                            if (!this.updateEmailFormControl.dirty)\n                                return [3 /*break*/, 5];\n                            return [4 /*yield*/, user.updateEmail(this.updateEmailFormControl.value)];\n                        case 4:\n                            _a.sent();\n                            snackBarMsg.push(\"your email has been update to \" + user.email);\n                            _a.label = 5;\n                        case 5:\n                            if (!this.updatePhoneNumberFormControl.dirty)\n                                return [3 /*break*/, 7];\n                            return [4 /*yield*/, user.updatePhoneNumber(this.updatePhoneNumberFormControl.value)];\n                        case 6:\n                            _a.sent();\n                            console.log('phone number = ', this.updatePhoneNumberFormControl.value);\n                            snackBarMsg.push(\"your phone number has been update to \" + user.phoneNumber);\n                            _a.label = 7;\n                        case 7:\n                            if (!this.config.enableFirestoreSync)\n                                return [3 /*break*/, 9];\n                            return [4 /*yield*/, this._fireStoreService.updateUserData(this.authProcess.parseUserInfo(user))];\n                        case 8:\n                            _a.sent();\n                            _a.label = 9;\n                        case 9: return [3 /*break*/, 11];\n                        case 10:\n                            error_1 = _a.sent();\n                            error_1.message ? this.snackBar.open(error_1.message, 'Ok') : this.snackBar.open(error_1, 'Ok');\n                            console.error(error_1);\n                            console.error(error_1.code);\n                            console.error(error_1.message);\n                            return [3 /*break*/, 11];\n                        case 11:\n                            if (snackBarMsg.length > 0) {\n                                this.snackBar.open(snackBarMsg.join('\\\\n'), 'Ok');\n                            }\n                            _a.label = 12;\n                        case 12:\n                            this.editMode = false;\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    /**\n     * @return {?}\n     */\n    UserComponent.prototype.signOut = /**\n     * @return {?}\n     */\n        function () {\n            return __awaiter$2(this, void 0, void 0, function () {\n                var e_1;\n                return __generator$2(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 2, , 3]);\n                            return [4 /*yield*/, this.auth.auth.signOut()];\n                        case 1:\n                            _a.sent();\n                            // Sign-out successful.\n                            this.onSignOut.emit();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            e_1 = _a.sent();\n                            // An error happened.\n                            console.error('An error happened while signing out!', e_1);\n                            return [3 /*break*/, 3];\n                        case 3: return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    /**\n     * Delete the account of the current firebase user\n     *\n     * On Success, emit the <onAccountDeleted> event and toast a msg!#\n     * Otherwise, log the and toast and error msg!\n     *\n     */\n    /**\n     * Delete the account of the current firebase user\n     *\n     * On Success, emit the <onAccountDeleted> event and toast a msg!#\n     * Otherwise, log the and toast and error msg!\n     *\n     * @return {?}\n     */\n    UserComponent.prototype.deleteAccount = /**\n     * Delete the account of the current firebase user\n     *\n     * On Success, emit the <onAccountDeleted> event and toast a msg!#\n     * Otherwise, log the and toast and error msg!\n     *\n     * @return {?}\n     */\n        function () {\n            return __awaiter$2(this, void 0, void 0, function () {\n                var user, error_2;\n                return __generator$2(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 2, , 3]);\n                            user = this.auth.auth.currentUser;\n                            return [4 /*yield*/, this.authProcess.deleteAccount()];\n                        case 1:\n                            _a.sent();\n                            // TODO(13.02.19) @anthoynahas: error while delete user data by user id\n                            // if (this.config.enableFirestoreSync) {\n                            //   await this._fireStoreService.deleteUserData(user.uid);\n                            // }\n                            this.onAccountDeleted.emit();\n                            this.editMode = false;\n                            this.snackBar.open('Your account has been successfully deleted!', 'OK', {\n                                duration: 5000\n                            });\n                            return [3 /*break*/, 3];\n                        case 2:\n                            error_2 = _a.sent();\n                            console.log('Error while delete user\\'s account', error_2);\n                            this.snackBar.open('Error occurred while deleting your account!', 'OK', {\n                                duration: 5000\n                            });\n                            return [3 /*break*/, 3];\n                        case 3: return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    return UserComponent;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @enum {string} */\nvar Theme = {\n    DEFAULT: 'default',\n    CLASSIC: 'classic',\n    STROKED: 'stroked',\n    FAB: 'fab',\n    MINI_FAB: 'mini-fab',\n    RAISED: 'raised',\n};\n/** @enum {string} */\nvar Layout = {\n    ROW: 'row',\n    COLUMN: 'column',\n};\nvar AuthProvidersComponent = /** @class */ /*@__PURE__*/ (function () {\n    function AuthProvidersComponent(authProcess, _iconRegistry, _sanitizer) {\n        this.authProcess = authProcess;\n        this._iconRegistry = _iconRegistry;\n        this._sanitizer = _sanitizer;\n        // theme: string = Theme.DEFAULT;\n        this.layout = Layout.ROW;\n        this.providers = AuthProvider.ALL; //  google, facebook, twitter, github\n        //  google, facebook, twitter, github\n        this.themes = Theme;\n        this.authProvider = AuthProvider;\n        _iconRegistry\n            .addSvgIcon('google', _sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/google.svg'))\n            .addSvgIcon('google-colored', _sanitizer.bypassSecurityTrustResourceUrl('/assets/google.svg'))\n            .addSvgIcon('facebook', _sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/facebook.svg'))\n            .addSvgIcon('twitter', _sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/twitter.svg'))\n            .addSvgIcon('github', _sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/github-circle.svg'))\n            .addSvgIcon('phone', _sanitizer.bypassSecurityTrustResourceUrl('/assets/phone.svg'));\n    }\n    return AuthProvidersComponent;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nvar EmailConfirmationComponent = /** @class */ /*@__PURE__*/ (function () {\n    function EmailConfirmationComponent() {\n    }\n    return EmailConfirmationComponent;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nvar LoggedInGuard = /** @class */ (function () {\n    function LoggedInGuard$1(config, router, auth) {\n        this.config = config;\n        this.router = router;\n        this.auth = auth;\n    }\n    /**\n     * @return {?}\n     */\n    LoggedInGuard$1.prototype.canActivate = /**\n     * @return {?}\n     */\n        function () {\n            var _this = this;\n            return this.auth.afa.user.pipe(map(( /**\n             * @param {?} res\n             * @return {?}\n             */function (res) {\n                if (res) {\n                    return true;\n                }\n                _this.router.navigate([\"/\" + _this.config.authGuardFallbackURL]);\n                return false;\n            })));\n        };\n    /** @nocollapse */ LoggedInGuard$1.ngInjectableDef = defineInjectable({ factory: function LoggedInGuard_Factory() { return new LoggedInGuard(inject(NgxAuthFirebaseUIConfigToken), inject(Router), inject(AuthProcessService)); }, token: LoggedInGuard, providedIn: \"root\" });\n    return LoggedInGuard$1;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nvar NgxAuthFirebaseUIConfigToken = new InjectionToken('NgxAuthFirebaseUIConfig');\nvar NgxAuthFirebaseUIModule = /** @class */ /*@__PURE__*/ (function () {\n    function NgxAuthFirebaseUIModule(config) {\n        this.config = config;\n        this.config = Object.assign(defaultAuthFirebaseUIConfig, this.config);\n    }\n    /**\n     * @param {?} configFactory\n     * @param {?=} appNameFactory\n     * @param {?=} config\n     * @return {?}\n     */\n    NgxAuthFirebaseUIModule.forRoot = /**\n     * @param {?} configFactory\n     * @param {?=} appNameFactory\n     * @param {?=} config\n     * @return {?}\n     */\n        function (configFactory, appNameFactory, config) {\n            if (config === void 0) {\n                config = defaultAuthFirebaseUIConfig;\n            }\n            return {\n                ngModule: NgxAuthFirebaseUIModule,\n                providers: [\n                    {\n                        provide: FirebaseOptionsToken,\n                        useValue: configFactory\n                    },\n                    {\n                        provide: FirebaseNameOrConfigToken,\n                        useFactory: appNameFactory\n                    },\n                    {\n                        provide: NgxAuthFirebaseUIConfigToken,\n                        useValue: config\n                    },\n                    AuthProcessService,\n                    FirestoreSyncService,\n                    LoggedInGuard\n                ],\n            };\n        };\n    return NgxAuthFirebaseUIModule;\n}());\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nexport { AuthComponent, UserComponent, AuthProvidersComponent, Theme, Layout, LegalityDialogComponent, AuthProcessService, AuthProvider, FirestoreSyncService, LoggedInGuard, NgxAuthFirebaseUIConfigToken, NgxAuthFirebaseUIModule, EmailConfirmationComponent as ɵb, defaultAuthFirebaseUIConfig as ɵa };\n//# sourceMappingURL=ngx-auth-firebaseui.es5.js.map\n",null]}